---
allowed-tools:
  - Read(*),
  - Fetch(*)
  - Grep(*),
  - Find(*),
  - List(*),
  - Search(*),
---

画面名から API エンドポイントを探します。

## 使い方

```
/toypo-api-search ユーザー一覧
/toypo-api-search 店舗管理
```

## 実行内容

1. まず現在地を確認して、work/ディレクトリを見つけてください
2. work/ディレクトリ内の 4 つのリポジトリを確認してください：

   - toypo-api（バックエンド API）
   - toypo-app（メインアプリ）
   - toypo4store-app（店舗向けアプリ）
   - toypo4store-web（店舗向け Web）

3. フロントエンドのリポジトリ（toypo-app、toypo4store-app、toypo4store-web）で「{ユーザーが指定した画面名}」を含むファイルを検索してください

   - .js、.jsx、.ts、.tsx、.vue ファイルを対象に検索
   - 見つかったファイルのパスを表示

4. 見つかったファイルの中から、API を呼び出している部分を探してください

   - axios.get、axios.post、fetch、api.get などのパターン
   - 特に「/api/」で始まる URL に注目

5. 見つかった API エンドポイント（例：/api/users、/api/stores）をリストアップしてください

6. toypo-api リポジトリで、見つかったエンドポイントの実装を検索してください

   - ルーティング定義（router.get、app.post など）
   - 該当するコントローラーやハンドラー

7. 最後に以下の形式でまとめてください：
   - 検索した画面名
   - 見つかったフロントエンドファイル
   - 使用されている API エンドポイント
   - バックエンドの実装ファイル

## 改善のためのフィードバック

実行後、以下の点について教えてください：

### 🎯 検索精度について

- 期待していた画面/コンポーネントは見つかりましたか？
- 見つからなかった場合、どのような名前で検索すれば良かったですか？
- API エンドポイントの検出漏れはありましたか？

### 🔍 検索範囲について

- 他に検索すべきディレクトリやファイルパターンはありますか？
- 除外すべきディレクトリ（node_modules 以外）はありますか？
- 特定のフレームワーク固有のパターンがありますか？

### 📊 出力形式について

- もっと詳しく見たい情報はありますか？（例：コードの該当行、HTTP メソッド）
- 不要な情報はありましたか？
- 結果を保存したい場合、どのような形式が良いですか？

### 💡 その他の改善案

- このコマンドに追加したい機能はありますか？
- よく使う検索パターンがあれば教えてください
- チーム内で共有したい情報があれば教えてください

---

💭 このコマンドは継続的に改善していきます。使用後のフィードバックをもとに、より使いやすいツールに進化させましょう！
